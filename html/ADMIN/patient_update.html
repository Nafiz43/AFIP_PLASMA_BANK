<!doctype html>
<html lang="en">
  <head>
  	<title>Admin</title>
     <link rel = "icon" type = "image/png" href = "images/mm.png">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700,800,900" rel="stylesheet">
		
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="css/style.css">
		 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
 		 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

  			<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>

 <script src="https://www.gstatic.com/firebasejs/7.15.5/firebase.js"></script>
  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyDPUMSic15uCh0OBuEZV1mZQV1D5TeyCxM",
      authDomain: "plasmabankcmh.firebaseapp.com",
      databaseURL: "https://plasmabankcmh.firebaseio.com",
      projectId: "plasmabankcmh",
      storageBucket: "plasmabankcmh.appspot.com",
      messagingSenderId: "731185412340",
      appId: "1:731185412340:web:d0c5e86030a24b5ffdc6a1"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);


  </script>
    <script type="text/javascript">
    if (localStorage.getItem("login_status")== "out") {

  window.location.replace("../../index.html");
}

  </script>

  </head>

  	 <style>
  	 	.body{
  	 		background-color: #D1F0CD;
  	 	}
    .jumbotron{
      background-color: #3B5998;
      color: white
    }
  </style>
  <script >
    function callTwoButtonFunctions(){
      
      document.getElementById("namep").style.visibility="visible";
      document.getElementById("rankp").style.visibility="visible";
      document.getElementById("unitp").style.visibility="visible";
      document.getElementById("posDatep").style.visibility="visible";
      document.getElementById("bloodp").style.visibility="visible";
      document.getElementById("agep").style.visibility="visible";
      document.getElementById("followUpCountp").style.visibility="visible";
      document.getElementById("add").style.visibility="visible";
      
      
      document.getElementById("namep1").style.visibility="visible";
      document.getElementById("rankp1").style.visibility="visible";
      document.getElementById("unitp1").style.visibility="visible";
      document.getElementById("posDatep1").style.visibility="visible";
      document.getElementById("posDatep2").style.visibility="visible";
      
      document.getElementById("bloodp1").style.visibility="visible";
      document.getElementById("agep1").style.visibility="visible";
      document.getElementById("followUpCountp1").style.visibility="visible";
      document.getElementById("elements").style.display="block";
      

      
      id=document.getElementById("idInput").value;
      console.log("ID INPUT IS:"+id);

      getGeneralDataWithId(id);
      getMedicalDataWithId(id); 
      insertMedicalHistoryIntoTable(id);
    }
    
  </script>

  
  <body>
		
		<div class="wrapper d-flex align-items-stretch">
			<nav id="sidebar" class="active">
				<!-- <img class="img-fluid" src="final.png" alt="..." class="img-thumbnail"> -->
        <div class="container-fluid">

          
           <button type="button" id="sidebarCollapse"  class="btn btn-outline-success">
              <i class="fa fa-bars fa-2x"></i> 
            </button>
            <button class="btn btn-dark d-inline-block d-lg-none ml-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fa fa-bars"></i>
            </button>
        </div>

				<h3><b>AFIP</b></h3>
        <ul class="list-unstyled components mb-5">
          <li  class="active cl_hover_btn ">
            <a href="Admin_Home.html"><span class="fa fa-home"></span> Home</a>
          </li>


         <li  class="active cl_hover_btn ">
         	<a href="enroll.html"><span class="fa fa-user-plus"></span> Enroll Donor</a>
         </li>
          <li  class="active cl_hover_btn ">
         	<a href="donor_list.html"><span class="fa fa-list"></span> Donor List</a>
         </li>
          <li>
         	
         </li>
          <li  class="active cl_hover_btn">
         	<a href="stat.html"><span class="fa fa-bar-chart"></span> Statistics</a>
         </li>

           <li >
             <a href="#pageSubmenu2" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><span class="fa fa-medkit"></span> Patient</a>
              <ul class="collapse list-unstyled" id="pageSubmenu2">
                <li class="active cl_hover_btn ">
                    <a href="patient_enroll.html">Enroll</a>
                </li>
                <li class="active cl_hover_btn active_btn">
                    <a href="patient_update.html ">Update</a>
                </li>
              
              </ul>
             </li>

          <li id="user_list">
             <script type="text/javascript">
               if (localStorage.getItem("value_role")!= "Admin") {
                        document.getElementById("user_list").style.visibility = "hidden";
                      }
             </script>  
             <a href="#pageSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle"><span class="fa fa-users"></span> User</a>
              <ul class="collapse list-unstyled" id="pageSubmenu">
                <li class="active cl_hover_btn">
                    <a href="user_req.html">Request</a>
                </li>
                <li class="active cl_hover_btn">
                    <a href="user_approved.html">Approved</a>
                </li>
              
              </ul>
             </li>


            

          
         
        </ul>

        <div class="footer">
        	<p>
					  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved | This Web Application is made by MIST CSE-17
					</p>
        </div>
    	</nav>

        <!-- Page Content  -->
      <div id="content" class="p-4 p-md-8">

        <nav class="navbar navbar-expand-lg navbar-light bg-light">
          <div class="container-fluid">

            

            <div class="collapse navbar-collapse" id="navbarSupportedContent">

            	<!-- Adding LOGO THERE -->
            	<ul class="nav navbar-nav">

                <li class="nav-item">
                   <img class="img-fluid" src="images/mm.png" alt="Chania" width="70" height="70">
                </li>

                <li class="nav-item">
                   <h3> &nbsp;<b>AFIP PLASMA BANK</b></h3>
                </li>

                
                
              
              </ul>

            <!-- Adding LOGO DONE -->

              <ul class="nav navbar-nav navbar-right">

               <ul class="nav navbar-nav navbar-right">
                 <li class="nav-item">
                   <!-- <a class="nav-link" href="Teacher_home.html"><h4><span class="fa fa-phone">Contact</h4></a>-->
                    <a href="../../change_password.html"><h4><span class="fa fa-key">Password</h4></a>
                </li>
                 <li class="nav-item">
                    <a href="acc_info.html"><h4><div id="kickoff1"> </div> </h4></a>
                </li>

                <li>
                  <a href="../../index.html"><h4><span class="glyphicon glyphicon-log-out"></span> Logout</h4></a>
                </li>
              </ul>

            </div>
          </div>
        </nav>

        <div>
        	<div class="jumbotron">
        		<h2><center><b>Update Patient</b></center></h2>
        		<!-- <h2 class="mb-4">Sidebar #07</h2> -->
        	</div>

   
       <!-- 	start writing from there -->


          <div class="container-fluid">
    <div id="alert_there">
      
    </div>
    <!-- <div style="font-size: 16pt" class="alert alert-danger" role="alert">
       
       This is a danger alertâ€”check it out!

    </div> -->
  <h3>Find patient by identification number</h3>



  <div class="form-inline">
    <div class="form-group col-md-1">
      <label for="inputEmail4">Identification Number</label>
      
    </div>
    <div class="form-group col-md-2">
      <input type="text" class="form-control" id="idInput" placeholder="BA-BJO-SNK">
      
    </div>
    

         <div class="form-group col-md-2">
    <!-- <button type="button" class="btn btn-primary btn-lg btn-block">Block level button</button> -->
        <!-- <label for="inputEmail4">Identification Number</label> -->
       <button class="btn btn-primary form-control " onclick="callTwoButtonFunctions()"> Get Data </button>
      </div>
      </div>
      <br>
      <div id="elements" style="display: none"  class="form-row">
     <!-- <div class="form-group col-md-4">
      <label for="idp">Identification Number</label>
      <input type="email" class="form-control" id="idp" placeholder="BA-BJO-SNK">
    </div> -->

    <div class="form-group col-md-4">
      <label  id="namep1"  for="namep">Name</label>
      <input type="email" disabled class="form-control" id="namep" placeholder="Name">
    </div>

    <div class="form-group col-md-4">
      <label id="rankp1" for="rankp">Rank</label>
      <input type="email" disabled class="form-control" id="rankp" placeholder="Rank">
    </div>

   
    <div class="form-group col-md-4">
      <label id="unitp1" for="unitp">Unit</label>
      <input type="email" disabled class="form-control" id="unitp" placeholder="Unit">
    </div>
    <div class="form-group col-md-4">
      <label id="posDatep1" for="posDatep">COVID-19 Positive Date</label>
      <div class="input-group date" data-date-format="yyyy.mm.dd">
            <input id="posDatep" disabled  type="text" class="form-control" placeholder="YYYY-MM-DD">
            <div id="posDatep2" class="input-group-addon" >
              <span  class="glyphicon glyphicon-th"></span>
            </div>
         </div>  
    </div>


    <div class="form-group col-md-2">
      <label id="bloodp1" for="bloodp">Blood Group</label>
      <select id="bloodp" disabled  class="mdb-select md-form form-control">
      <option value="" disabled selected>Choose your option</option>
        <option>A+</option>                               
        <option>A-</option>
        <option>B+</option>
        <option>B-</option>
        <option>O+</option>
        <option>O-</option>
        <option>AB+</option>
        <option>AB-</option>
    </select>
    </div>
    <div class="form-group col-md-2">
      <label id="agep1" for="agep">Age</label>
      <input type="number" disabled  class="form-control" id="agep" placeholder="Name">
    </div>

     <div class="form-group col-md-4">
      <label  id="followUpCountp1" for="followUpCountp">Followup Counts:</label>
      <input type="email" disabled  class="form-control" id="followUpCountp" placeholder="Name">
    </div>

    <div>
    <table class="table table-striped" id="medicalHistoryTable" border="2px">
          

    </table>
  </div>

  <!-- TABLE FOR PATIENT HISTORY ENDS-->



  <!-- INSERTING TABLE FOR FOLLOWUPS -->
  <div>
    <table class="table table-striped" id="followUpTable" border="2px" >
      
    </table>
  </div>

  <div>
    <button id="add" class="btn btn-primary"  onclick="makeTheFormVisible()">ADD</button>

  </div>


  </div>
 





    
  <!-- SUCCESSFULLY INSERTED TABLE FOR FOLLOWUPS -->
  

  <!-- DATA ENTRY DIV STARTS -->
  

  <div style="display: none" id="followUpEntryDiv">
    <form class="form-inline">
  <h5><b>SpO2 (Oxygen Saturation)&nbsp; &nbsp;</b> </h5>
      <input type="number" class="form-control"  id="spo21" placeholder="e.g., 5">
   <h5><b>&nbsp; % with &nbsp;</b> </h5>
   <input type="number" class="form-control"  id="spo22" placeholder="e.g., 10">
   <h5><b>&nbsp; (litre oxygen) &nbsp;</b> </h5>
</form>
<br>
<form class="form-inline">
  <h5><b>Lungs involvement &nbsp; &nbsp;</b> </h5>
      <input type="number" class="form-control" id="lung1" placeholder="e.g., 5">
      <h5><b>&nbsp;  &nbsp;</b> </h5>
       <select  class="mdb-select md-form form-control" id="lung2">
      <option  disabled selected>Choose your option</option>
        <option>NIL</option>                               
        <option>B/L</option>
        <option>U/L</option>
    
    </select>
</form>
<br>
<form class="form-inline">
  <h5><b>Antibody titar &nbsp; &nbsp;</b> </h5>
     
       <select id="antibodyTitar" class="mdb-select md-form form-control">
      <option value="" disabled selected>Choose your option</option>
        <option>< 1:20</option>                               
        <option>1:20 - <1:90</option>
        <option>1:90 - <1:80</option>
        <option>1:80 - <1:160</option>
        <option>>1:160</option>
    </select>
    <div>
    &nbsp; <button class="btn btn-primary" onclick="addFollowUpToDatabase()">Insert Data</button>
  </div>
</form>
    


  </div>
  <!-- DATA ENTRY DIV ENDS -->




  <!-- Linking to the corresponding script -->






        
      <div id="loader"> </div>
 
</div>





        
      </div>
		</div>

	<script >
	 $('.input-group.date').datepicker({format: "yyyy/mm/dd"}); 
</script>

   
    <script src="../../js/basic.js"></script>

    <script src="js/jquery.min.js"></script>
    <script src="js/popper.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/main.js"></script>

      <script src="js/patient_update.js" ></script>

  </body>
</html>